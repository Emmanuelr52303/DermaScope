function Uc8Mm(a,b){a.wye.set(b.id,b)}var Uc9Mm={nKb:"plain text"};({}).xtr;var Uc$Mm=Ucci(Uc9Mm);var UcaNm={xrm:"build",Iwm:"content gallery data panel",pkc:"diagram as code",Elc:"shape library"};({}).ytr;var UcbNm=Ucci(UcaNm);var UccNm,UcdNm=UccNm=class{constructor(a){this.name="generatedUML";this.documentId=a.documentId;this.format=a.format;this.method=a.method;this.$_a=a.$_a;this.userId=a.userId}toJSON(){return UccNm.mb(this)}};UcdNm=UccNm=__decorate([Ucfi({documentId:["documentId",Uci],format:["format",Uc$Mm],method:["method",UcbNm],$_a:["nRows",Ucai],userId:["userId",Ucai],name:["name",Uc8h("generatedUML")]}),__metadata("design:paramtypes",[Object])],UcdNm);var UceNm=class extends Ucur{constructor(){super(null);this.kZg=UcA(Uc85i)}Kb(){const a=this.kZg.value;if(a instanceof Ucfdl)return a}hb(a,b){return a===b}};function UcfNm(a){return[a]}
var UcgNm=class extends UcHB{constructor(){var a=UcG(UcPN);super();this.Pf=UcG(UctP);this.type=UcMn.lg;this.ha={columns:i18n.get("advanced-options-swimlane-columns"),rows:i18n.get("advanced-options-swimlane-rows")};this.xLk=new UcHh;this.wVl=new UcHh;const b=a.getProperty(this.qc(),"RowCount");b&&(this.yec=this.Pf.create(b),UcFB(this,this.yec));if(a=a.getProperty(this.qc(),"ColumnCount"))this.S3b=this.Pf.create(a),UcFB(this,this.S3b)}qc(){return Uc_T.className}ngAfterViewInit(){UcGB(this)}get cols(){return this.S3b?this.S3b.eb():
1}set cols(a){this.S3b&&this.S3b.setValue(a)}get rows(){return this.yec?this.yec.eb():1}set rows(a){this.yec&&this.yec.setValue(a)}};UcgNm.za=[{type:Uc0,args:[{selector:"lucid-multi-dimensional-swimlane-advanced-options",templateUrl:"./multidimensionalswimlaneadvancedoptions.component.html",changeDetection:UcH.OnPush}]}];UcgNm.Ga=()=>[];UcgNm.ra=function(a){return new (a||UcgNm)};
UcgNm.Ja=UcI({type:UcgNm,Fa:[["lucid-multi-dimensional-swimlane-advanced-options"]],features:[UcN],Ka:4,Ia:22,Na:[[3,"label","lucidApplyUniqueElementId"],[3,"visualStep","scalar","min","max","precision","value","ariaLabelledBy","valueChange"]],template:function(a,b){a&1&&(UcQ(0,"lucid-rich-menu-item",0)(1,"lucid-spinner",1),UcT("valueChange",function(c){return b.cols=c}),UcR()(),UcQ(2,"lucid-rich-menu-item",0)(3,"lucid-spinner",1),UcT("valueChange",function(c){return b.rows=c}),UcR()());a&2&&(UcP("label",
b.ha.columns)("lucidApplyUniqueElementId",b.xLk),UcM(1),UcP("visualStep",1)("scalar",1)("min",1)("max",50)("precision",1)("value",b.cols)("ariaLabelledBy",Ucxy(18,UcfNm,b.xLk)),UcM(1),UcP("label",b.ha.rows)("lucidApplyUniqueElementId",b.wVl),UcM(1),UcP("visualStep",1)("scalar",1)("min",1)("max",50)("precision",1)("value",b.rows)("ariaLabelledBy",Ucxy(20,UcfNm,b.wVl)))},La:[UccG,UcOC,UcyA],styles:["[_nghost-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}lucid-spinner[_ngcontent-%COMP%]{max-width:72px}lucid-toggle-icon[_ngcontent-%COMP%] + lucid-toggle-icon[_ngcontent-%COMP%]{margin-left:8px}lucid-click-edit-text[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;-o-text-overflow:ellipsis;text-overflow:ellipsis;border-radius:3px;border:1px solid #979ea8;font-size:14px;max-width:40em;line-height:1.5em;min-height:1.5em;padding:0 4px}lucid-click-edit-text[_ngcontent-%COMP%]   .edit-text-container[_ngcontent-%COMP%]{padding:4px}lucid-rich-menu-item.wide-content[_ngcontent-%COMP%]   lucid-single-select-dropdown[_ngcontent-%COMP%]{width:100%}"],
changeDetection:0});var UchNm=class{};UchNm.za=[{type:UcKy,args:[{Ob:[UcgNm],exports:[UcgNm],imports:[Uc4,Ucxz,Uc6,UciH,UcXP,UccH,UcRF,UcEA]}]}];UchNm.ra=function(a){return new (a||UchNm)};UchNm.Nb=UcNx({type:UchNm});UchNm.Mb=UcGx({imports:[Uc4,Ucxz,Uc6,UciH,UcXP,UccH,UcRF,UcEA]});function UciNm(a){var b=a.viewport.Yp(),c=a.Wtb.value;Uce(b)&&(c=a.c8b(),c.w+=20,c.h+=20,c=UcuL(a.kX,{page:b,size:c,Jga:a.Wtb.value,f0e:!0,Noh:[UcUb.kp]}),Uc1bh(a.DC,{que:c,pageId:b.id,QL:500}));b=a.Gq.Hla("UMLSequenceGenerator",a.SAe(c),{},void 0,void 0,{});a=a.document.ik.get(b);if(a instanceof Ucfdl)return a}
function UcjNm(a,b){b.Dm();const c=b.SB();if(c){const d=Uc8yg(a.Tq,b.getPage(),b.Lh.className);a.Cb.jc(new Uc3t(Uc2t.Xd,{id:b.groupId,Property:UcZw.key,Value:d}));a.selection.dl([c.id])}else a.selection.dl(b.EJ().map(d=>d.id));return c}var UckNm=class extends Ucn1i{constructor(){super();this.selection=UcA(UcbK);this.Gq=UcA(UciQ);this.Tq=UcA(UcrJ);this.Wtb=UcA(Ucwah);this.kX=UcA(UctL);this.viewport=UcA(UcpL);this.DC=UcA(UcGL)}cCa(){}c8b(){return{w:360,h:460}}};function UclNm(a,b,c,d){a.user&&a.analytics.DDb.WKa("uml-markup-used",a.user.id,Uc3j.jE,"uml-markup-used");let e;e=c?c.UML_Sequence:b?b.internal.Qb.get("Markup").UML_Sequence:a.cvp;var f=null==b?void 0:b.getGenerator();let g=void 0;g=f instanceof Ucfdl?f:UciNm(a.g8e);let h;f=null==(h=g)?void 0:Ucedl(h,Object.assign({},c||{},{UML_Sequence:e}));if(!f||!g)return null;if(f instanceof UcFbl){c=UcjNm(a.g8e,g);b&&b!==c&&(g.properties.location.Qa({x:b.Dr.value.x,y:b.Dr.value.y}),a.sK.wI({items:[b],SKa:!0}));
c&&Array.from(c.Slb.value).forEach(l=>{l instanceof Uc0I?a.Kha.BD({item:l,Rv:Uc$i.pqd}):l instanceof UcE&&a.Kha.BD({item:l,Rv:Uc$i.pqd,mo:"uml"})});d?d===UcaNm.pkc&&Ucuzi(a.fmb,g.R7b()):UcOal(a.fmb,g.R7b());let k;a.kj.fireEvent(new UcdNm({documentId:null!=(k=a.document.id)?k:"",format:Uc9Mm.nKb,method:null!=d?d:UcaNm.xrm,$_a:e.split("\n").length,userId:a.user.getId()}));return null}return{message:f.UO(),lineNum:f.ADh()}}
function UcmNm(a,b,c,d){c=c?Object.assign({},c,{UML_Sequence:c.UML_Sequence.replace(/“|”/g,'"')}):void 0;if(a.user.Cz.ys().Xh("UMLMarkup")){const e=b&&1==b.length?b[0]:void 0;if(e&&e instanceof Uc2I&&e.internal.Qb.get("Markup")&&b)return UclNm(a,e,c,d);if(!b||1!=b.length)return UclNm(a,null,c,d)}else a.user&&a.analytics.DDb.WKa("uml-markup-editor-paywall",a.user.id,Uc3j.jE,"uml-markup-editor-paywall"),UchBg(a.Jd);return null}
var UcnNm=class{constructor(){this.document=UcB(Uc3u);this.selection=UcA(UcbK);this.user=UcA(UcaD);this.analytics=UcA(UcxVd);this.kj=UcA(Uc_A);this.fmb=UcA(Ucvzi);this.Jd=UcA(UczJ);this.Kha=UcA(UcbXg);this.g8e=UcA(UckNm);this.sK=UcA(UcAK);this.cvp="Alice -> Bob\nAlice <-- Bob\nAlice -> Bob: text\nnote right of Alice: note"}Fso(){const a=UcTJ(this.selection.items);return a&&a.internal.Qb.get("Markup")?[a]:[]}};function UcoNm(a){if(a&1){const b=UcJ();UcQ(0,"lucid-diagram-as-code-home-panel",2);UcT("selectDiagram",function(c){UcK(b);const d=UcU();return UcL(d.qGb(c))})("newDiagramClick",function(){UcK(b);var c=UcU();c.ugc=!0;c=c.mgm.dispatchEvent(Uc1bl);return UcL(c)});UcR()}a&2&&(a=UcU(),UcP("selectedLanguage",a.y1a)("zeroStateImage",a.images.fvh))}
function UcpNm(a){if(a&1){const b=UcJ();UcQ(0,"div",3)(1,"lucid-uml-sequence-markup-panel",4);UcT("skipFiringOpenedDiagramEvent",function(c){UcK(b);UcU().ugc=c;return UcL(void 0)});UcR()()}}
var UcqNm=class extends Ucg{constructor(){super();this.Duk=UcG(UceNm);this.mgm=UcG(Uc_bl);this.selection=UcG(UcbK);this.fmb=UcG(Ucvzi);this.y1a="PlantUML";this.images={fvh:UcUl+"/app/chart/dialogs/exampleSequenceDiagram.svg"};this.ugc=this.YEc=!1;this.Ea=new UcOo(this);this.NOe=new UcC(this,()=>void 0===this.Duk.value,Ucd);this.Ea.listen(this.mgm,Uc2bl,this.rtp)}rtp(){const a=this.Duk.value;a&&(this.ugc?this.ugc=!1:UcNal(this.fmb,a.R7b(),this.YEc));this.YEc=!1}qGb(a){let b;if(a=null==(b=a.SB())?void 0:
b.id)this.YEc=!0,this.selection.dl([a])}};UcqNm.za=[{type:Uc0,args:[{selector:"lucid-uml-diagram-panel",Da:!0,templateUrl:"./umldiagrampanel.component.html",changeDetection:UcH.OnPush,imports:[Uc4,Uc6al,Uc5,Uclrk]}]}];UcqNm.Ga=()=>[];UcqNm.ra=function(a){return new (a||UcqNm)};
UcqNm.Ja=UcI({type:UcqNm,Fa:[["lucid-uml-diagram-panel"]],Da:!0,features:[UcN,UcX],Ka:4,Ia:6,Na:[[3,"selectedLanguage","zeroStateImage","selectDiagram","newDiagramClick",4,"ngIf"],["class","editor",4,"ngIf"],[3,"selectedLanguage","zeroStateImage","selectDiagram","newDiagramClick"],[1,"editor"],[3,"skipFiringOpenedDiagramEvent"]],template:function(a,b){a&1&&(UcO(0,UcoNm,1,2,"lucid-diagram-as-code-home-panel",0),UcY(1,"lucidPipeValue"),UcO(2,UcpNm,2,0,"div",1),UcY(3,"lucidPipeValue"));a&2&&(UcP("ngIf",
UcZ(1,2,b.NOe)),UcM(2),UcP("ngIf",!UcZ(3,4,b.NOe)))},La:[Uc4,Uc3,Uc6al,Uc5,UcjB,Uclrk,Ucgrk],styles:["[_nghost-%COMP%]{width:100%;height:100%;overflow:hidden;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.editor[_ngcontent-%COMP%]{height:100%}"],changeDetection:0});UcqNm=__decorate([UcKc,__metadata("design:paramtypes",[])],UcqNm);var UcrNm=class{constructor(){this.Qo=UcB(UcIs);this.rBa=UcA(UcGhh);this.viewport=UcA(UcpL);this.selection=UcA(UcbK);this.Cb=UcA(Ucmw);UcA(Uc8Wg);this.Wp=UcA(UcJK);this.Jd=UcA(UczJ);this.UYe=UcA(UcyBg);this.Jh=UcA(Ucir);this.Kha=UcA(UcbXg);this.R0d=UcA(UcnNm);this.Fi=UcA(UcqK);this.zJa=UcA(Ucjr);this.hrh=UcA(UcBKj);this.jk=UcA(UcmJ);this.kIi=UcA(UcSnj);this.p3=UcA(UcQrd);this.g8e=UcA(UckNm);this.tIb=UcA(UceCi);this.vNd=UcA(Ucwki);this.nln=UcA(UceNm);this.rdh=UcA(Ucbgi)}};
function UcsNm(a){Uc7J(a.selection,a.Ea,Uc8J.id,a.Voq.bind(a));const b=UcGTh(a.rBa);b.add({nd:"ios_inputs"});let c=!1;const d=f=>{c&&b.spacer();c=!0;b.openGrid({prefix:2,ctb:2,width:8});b.addButton({onClick:()=>{a.IYe&&f.ve(a.IYe)},label:f.name});b.close()},e={R9r:{name:i18n.get("plugin-uml-option-multiplicity"),ve:f=>{const g=f.Tb.value;void 0==g.get("m1")&&f.Hb(0,{t:"0..*",m:[]},1,"m1");void 0==g.get("m2")&&f.Hb(1,{t:"0..*",m:[]},-1,"m2")}},Xds:{name:i18n.get("plugin-uml-option-line-reverse"),ve:f=>
{var g=f.properties.Hg.value;const h=f.properties.zg.value,k=(m,n)=>{let p;if(m instanceof Uc8m)p=Uc8m.create({block:m.block,Cf:m.Cf,IJ:m.IJ,CF:m.CF,Sp:m.Sp,ip:m.ip,style:n.style,scale:n.scale,padding:n.padding});else if(m instanceof Uc$m){let q,r;p=Uc$m.create({line:null!=(q=m.line)?q:void 0,bD:m.bD,usa:m.usa,style:n.style,padding:null!=(r=n.padding)?r:void 0,scale:n.scale})}else p=new Uc7m(m.x,m.y,n.style,n.scale);p.x=m.x;p.y=m.y;return p};var l=k(g,h);g=k(h,g);f.properties.Hg.Qa(l);f.properties.zg.Qa(g);
l=UcKh(f.properties.Tb.value);l.forEach(m=>{null!=m.location&&(m.location=1-m.location)});0<l.size&&f.properties.Tb.Qa(l)}}};UcRd(e,f=>{d(f)});UcHTh(a.rBa,[{content:b,label:""}],{isContextPanel:!0,checkShow:()=>!!a.IYe})}function UctNm(a,b=!1){a.jk.Bi(Uc6i.KTg)||(a.$a.fireEvent(new Uc_gc({userId:parseInt(a.user.id),method:b?UcWi.pkc:UcWi.Elc,ql:UcEi.TNc,documentId:a.document.id})),UcmNm(a.R0d,void 0,void 0,b?UcaNm.pkc:UcaNm.Elc))}
function UcuNm(a,b){return Uca(function*(){const c=UciNm(a.MW.g8e);if(void 0===c)return{error:"FailedToCreateLucidGenerator"};if(Ucedl(c,{UML_Sequence:b})instanceof UcFbl)return UcjNm(a.MW.g8e,c),{value:c};c.KT();return{error:"FailedToParseMarkup"}})}
UcbN("umlview","uml",class extends Ucg{constructor(){const a=UcA(UcPN),b=UcA(UcxVd),c=UcA(Uc_bl);super();this.jk=UcA(UcmJ);this.$a=UcA(Uc_A);this.document=UcB(Uc3u);this.user=UcA(UcaD);this.MW=UcA(UcrNm);this.Jh=this.MW.Jh;this.UYe=this.MW.UYe;this.rBa=this.MW.rBa;this.R0d=this.MW.R0d;this.selection=this.MW.selection;this.vql=void 0;this.Ea=new UcOo(this);this.IYe=null;this.MW.zJa.register("UMLSequenceGenerator",[this.MW.hrh]);Uc_T.Yd(a);UcZT.Yd(a);Uc0T.Yd(a);if(this.MW.tIb.ybb()){this.MW.vNd.tbd("PlantUML",
UcqNm);const d=Uc8Vh(([e])=>{this.vql!==e&&(e&&c.dispatchEvent(Uc2bl),this.vql=e)},100);Uc7J(this.MW.selection,this.Ea,Uc8J.id,()=>{const e=this.MW.nln.value;e&&this.MW.rdh.dispatchEvent(Uccgi);d(e)})}a.register({className:"UMLSequence",propertyName:"Markup",value:(d,e)=>new UcNr(d,()=>{let f,g;if(1===e.length){let k;var h=null!=(k=e[0].internal.Qb.get("Markup"))?k:null}else h=null;return null!=(g=null==(f=h)?void 0:f.UML_Sequence)?g:null},(f,g)=>f===g,()=>{}),enabled:d=>new UcC(d,()=>!0,(e,f)=>e===
f),RZe:(d,e)=>{{const g={UML_Sequence:e};try{const h=JSON.parse(e);var f=Uc4bl(h)?h:g}catch(h){f=g}}return UcmNm(this.R0d,d,f)},l8b:this.R0d.Fso});Uchr(this.Jh,{Ih:[UcgNm,Uck3j],module:UchNm});this.MW.Fi.eh([{type:UcMn.lg,registration:{component:Uck3j}}],{selection:{xj:new Set([Uc0T.className,UcZT.className,UcZT.iGb])}});this.MW.Fi.eh([{type:UcMn.lg,registration:{component:UcgNm}}],{selection:{xj:new Set([Uc_T.className])}});this.MW.Qo.promise.then(()=>{b.DDb.WKa("uml-shape-library-enabled",this.user.id,
Uc3j.jE,"uml-shape-library-enabled");UcsNm(this)});this.UYe.setCallback(()=>{UcmNm(this.R0d,void 0,void 0,UcaNm.Iwm)});this.Ea.listen(c,Uc0bl,()=>UctNm(this));this.Ea.listen(c,Uc1bl,()=>UctNm(this,!0));Uc8Mm(this.MW.p3,{id:"UmlViewLibrary",generate:d=>UcuNm(this,d)});UcKTh(this.MW.viewport,this.MW.kIi)}Voq(){const a=c=>{function d(e){if(!(e instanceof Uc8m&&e.block))return!1;e=e.block.Lh.className;return!!e&&0==e.search("UML")}return d(c.properties.Hg.value)||d(c.properties.zg.value)};this.IYe=null;
const b=UcSJ(this.selection.items);b&&a(b)&&(this.IYe=b)}});
//# sourceURL=/js/application/universalcanvas_app/chunk/umlview.js?compiled=1
